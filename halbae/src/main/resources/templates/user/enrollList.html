<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/layout/header::headFrag('수강 목록')}"></head>
<link rel="stylesheet" th:href="@{/css/header.css(ver=1.0)}">
<link rel="stylesheet" th:href="@{/css/user/myprofile.css(ver=1.0)}">
<link rel="stylesheet" th:href="@{/css/user/enroll.css(ver=1.0)}">
<body>

	<div th:replace="~{/layout/header::gnbFrag}"></div>
	
	<script th:inline="javascript">
		var scheduleList = /*[[${schduleList}]]*/ null;
		var enrollList = /*[[${enrollList}]]*/ null;
		
		$(function() {
			for(let i=0; i<scheduleList.length; i++) {
				var start = scheduleList[i].schStart;
				start = start.substring(0, 16);
				start = start.replace('T', ' ');
				$('#'+i).text(start);
			}
		})
		
		function fnMoveClass(vThis) {
			location.href="/class/classDetail.do?classNo=" + $(vThis).prev().val();
		}
	</script>
	
	<div class="profileContainer">
		<div class="profileWrap">
			<div class="enrollListTitle">수강 목록</div>
			<div class="sectionLine"></div>
			
			<div class="enrollWrap">
				<div th:if="${enrollList.size == 0}">
					<div class="noEnrolls">신청된 강의가 없습니다.</div>
				</div>
				<div th:if="${enrollList != null}">
					<div th:each="enroll,vs:${enrollList}">
						<input type="hidden" th:value="${enroll.classNo}">
						<div class="enrolls" th:onclick="fnMoveClass(this)">
							<img class="thumbnail" th:src="${enroll.classMainPath}">
							<div class="enrollInfo">
								<div class="locationWrap">
									<i class="fa-solid fa-location-dot fa-2xl location"></i>
									<span class="area" th:text="${enroll.classArea}"></span>
									<span class="schStart" th:id="${vs.index}"></span>
								</div>	
								<div class="title" th:text="${enroll.classTitle}"></div>
								<div class="gradeWrap">
									<span class="grade" th:text="|평점 : ${enroll.classGrade}|"></span>
									<i class="fa-solid fa-star lg gradeStar"></i>
								</div>
								<div class="paid">
									<span th:text="${enroll.classTime}"></span>
									<span th:text="${enroll.classMoney}"></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div th:replace="~{/layout/footer::footerFrag}"></div>
</body>
</html>